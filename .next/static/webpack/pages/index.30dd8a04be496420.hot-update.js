"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "(pages-dir-browser)/./src/context/AchievementContext.tsx":
/*!********************************************!*\
  !*** ./src/context/AchievementContext.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AchievementContext: () => (/* binding */ AchievementContext),\n/* harmony export */   AchievementProvider: () => (/* binding */ AchievementProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/constants */ \"(pages-dir-browser)/./src/lib/constants.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(pages-dir-browser)/./src/lib/utils.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n// Default context value\nconst defaultContextValue = {\n    achievements: [],\n    progress: 0,\n    level: 'Explorer',\n    newAchievement: null,\n    recordVisit: ()=>{},\n    recordRead: ()=>{},\n    recordAction: ()=>{}\n};\n// Create the achievement context\nconst AchievementContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(defaultContextValue);\nconst AchievementProvider = (param)=>{\n    let { children } = param;\n    _s();\n    // State for achievements and progress\n    const [achievements, setAchievements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [level, setLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('Explorer');\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [newAchievement, setNewAchievement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [progressData, setProgressData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        visits: {},\n        reads: [],\n        actions: {}\n    });\n    // Initialize user ID and load achievements from localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AchievementProvider.useEffect\": ()=>{\n            // Get or create user ID\n            let id = localStorage.getItem(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_KEYS.USER_ID);\n            if (!id) {\n                id = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.generateId)();\n                localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_KEYS.USER_ID, id);\n            }\n            setUserId(id);\n            // Load achievement data from localStorage\n            const storedAchievements = localStorage.getItem(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_KEYS.ACHIEVEMENTS);\n            if (storedAchievements) {\n                try {\n                    const parsedAchievements = JSON.parse(storedAchievements);\n                    setAchievements(parsedAchievements);\n                } catch (error) {\n                    console.error('Error parsing stored achievements:', error);\n                    setAchievements(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_ACHIEVEMENTS);\n                }\n            } else {\n                setAchievements(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_ACHIEVEMENTS);\n            }\n            // Load progress from localStorage\n            const storedProgress = localStorage.getItem(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_KEYS.PROGRESS);\n            if (storedProgress) {\n                const progressValue = parseFloat(storedProgress);\n                setProgress(progressValue);\n                setLevel((0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.determineLevel)(progressValue));\n            }\n            // Load progress data\n            const storedProgressData = localStorage.getItem('oleksiak_progress_data');\n            if (storedProgressData) {\n                try {\n                    setProgressData(JSON.parse(storedProgressData));\n                } catch (error) {\n                    console.error('Error parsing progress data:', error);\n                }\n            }\n        }\n    }[\"AchievementProvider.useEffect\"], []);\n    // Save achievements to localStorage when they change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AchievementProvider.useEffect\": ()=>{\n            if (achievements.length > 0) {\n                localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_KEYS.ACHIEVEMENTS, JSON.stringify(achievements));\n            }\n        }\n    }[\"AchievementProvider.useEffect\"], [\n        achievements\n    ]);\n    // Save progress data to localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AchievementProvider.useEffect\": ()=>{\n            localStorage.setItem('oleksiak_progress_data', JSON.stringify(progressData));\n        }\n    }[\"AchievementProvider.useEffect\"], [\n        progressData\n    ]);\n    // Save progress and level to localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AchievementProvider.useEffect\": ()=>{\n            localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_KEYS.PROGRESS, progress.toString());\n            localStorage.setItem(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.STORAGE_KEYS.LEVEL, level);\n        }\n    }[\"AchievementProvider.useEffect\"], [\n        progress,\n        level\n    ]);\n    // Sync achievements with the server\n    const syncWithServer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AchievementProvider.useCallback[syncWithServer]\": async ()=>{\n            if (!userId) return;\n            try {\n                const response = await fetch(_lib_constants__WEBPACK_IMPORTED_MODULE_2__.API_ENDPOINTS.ACHIEVEMENTS, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        userId,\n                        achievements,\n                        progress\n                    })\n                });\n                const data = await response.json();\n                if (data.success) {\n                    // Update level if server has a different value\n                    if (data.level !== level) {\n                        setLevel(data.level);\n                    }\n                }\n            } catch (error) {\n                console.error('Error syncing achievements:', error);\n            }\n        }\n    }[\"AchievementProvider.useCallback[syncWithServer]\"], [\n        userId,\n        achievements,\n        progress,\n        level\n    ]);\n    // Sync with server when achievements or progress change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AchievementProvider.useEffect\": ()=>{\n            if (achievements.length > 0 && userId) {\n                syncWithServer();\n            }\n        }\n    }[\"AchievementProvider.useEffect\"], [\n        achievements,\n        progress,\n        userId,\n        syncWithServer\n    ]);\n    // Check achievements and update progress\n    const checkAchievements = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AchievementProvider.useCallback[checkAchievements]\": ()=>{\n            let updated = false;\n            let totalEarnedPoints = 0;\n            const updatedAchievements = achievements.map({\n                \"AchievementProvider.useCallback[checkAchievements].updatedAchievements\": (achievement)=>{\n                    // Skip already completed achievements\n                    if (achievement.completed) {\n                        totalEarnedPoints += achievement.points;\n                        return achievement;\n                    }\n                    // Check if criteria are met\n                    let criteriaFulfilled = true;\n                    // Check visit criteria\n                    if (achievement.criteria.visits) {\n                        for (const [page, count] of Object.entries(achievement.criteria.visits)){\n                            const userVisits = progressData.visits[page] || 0;\n                            if (userVisits < count) {\n                                criteriaFulfilled = false;\n                                break;\n                            }\n                        }\n                    }\n                    // Check read criteria\n                    if (criteriaFulfilled && achievement.criteria.reads) {\n                        if (progressData.reads.length < achievement.criteria.reads) {\n                            criteriaFulfilled = false;\n                        }\n                    }\n                    // Check action criteria\n                    if (criteriaFulfilled && achievement.criteria.actions) {\n                        for (const [action, count] of Object.entries(achievement.criteria.actions)){\n                            const userActions = progressData.actions[action] || 0;\n                            if (userActions < count) {\n                                criteriaFulfilled = false;\n                                break;\n                            }\n                        }\n                    }\n                    // Update achievement if criteria are fulfilled\n                    if (criteriaFulfilled && !achievement.completed) {\n                        updated = true;\n                        // Set newly completed achievement for notification\n                        setNewAchievement({\n                            ...achievement\n                        });\n                        // Clear notification after 5 seconds\n                        setTimeout({\n                            \"AchievementProvider.useCallback[checkAchievements].updatedAchievements\": ()=>{\n                                setNewAchievement(null);\n                            }\n                        }[\"AchievementProvider.useCallback[checkAchievements].updatedAchievements\"], 5000);\n                        totalEarnedPoints += achievement.points;\n                        return {\n                            ...achievement,\n                            completed: true,\n                            completedAt: new Date()\n                        };\n                    }\n                    return achievement;\n                }\n            }[\"AchievementProvider.useCallback[checkAchievements].updatedAchievements\"]);\n            if (updated) {\n                setAchievements(updatedAchievements);\n            }\n            // Update progress\n            const newProgress = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.calculateProgress)(totalEarnedPoints);\n            if (newProgress !== progress) {\n                setProgress(newProgress);\n                setLevel((0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.determineLevel)(newProgress));\n            }\n        }\n    }[\"AchievementProvider.useCallback[checkAchievements]\"], [\n        achievements,\n        progressData,\n        progress\n    ]);\n    // Record a page visit\n    const recordVisit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AchievementProvider.useCallback[recordVisit]\": (page)=>{\n            setProgressData({\n                \"AchievementProvider.useCallback[recordVisit]\": (prev)=>{\n                    const visits = {\n                        ...prev.visits\n                    };\n                    visits[page] = (visits[page] || 0) + 1;\n                    return {\n                        ...prev,\n                        visits\n                    };\n                }\n            }[\"AchievementProvider.useCallback[recordVisit]\"]);\n        }\n    }[\"AchievementProvider.useCallback[recordVisit]\"], []);\n    // Record a blog post read\n    const recordRead = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AchievementProvider.useCallback[recordRead]\": (postId)=>{\n            setProgressData({\n                \"AchievementProvider.useCallback[recordRead]\": (prev)=>{\n                    // Only add the post ID if it's not already in the array\n                    if (!prev.reads.includes(postId)) {\n                        return {\n                            ...prev,\n                            reads: [\n                                ...prev.reads,\n                                postId\n                            ]\n                        };\n                    }\n                    return prev;\n                }\n            }[\"AchievementProvider.useCallback[recordRead]\"]);\n        }\n    }[\"AchievementProvider.useCallback[recordRead]\"], []);\n    // Record a user action\n    const recordAction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AchievementProvider.useCallback[recordAction]\": (action)=>{\n            setProgressData({\n                \"AchievementProvider.useCallback[recordAction]\": (prev)=>{\n                    const actions = {\n                        ...prev.actions\n                    };\n                    actions[action] = (actions[action] || 0) + 1;\n                    return {\n                        ...prev,\n                        actions\n                    };\n                }\n            }[\"AchievementProvider.useCallback[recordAction]\"]);\n        }\n    }[\"AchievementProvider.useCallback[recordAction]\"], []);\n    // Check achievements when progress data changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AchievementProvider.useEffect\": ()=>{\n            checkAchievements();\n        }\n    }[\"AchievementProvider.useEffect\"], [\n        progressData,\n        checkAchievements\n    ]);\n    // Context value\n    const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AchievementProvider.useMemo[contextValue]\": ()=>({\n                achievements,\n                progress,\n                level,\n                newAchievement,\n                recordVisit,\n                recordRead,\n                recordAction\n            })\n    }[\"AchievementProvider.useMemo[contextValue]\"], [\n        achievements,\n        progress,\n        level,\n        newAchievement,\n        recordVisit,\n        recordRead,\n        recordAction\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AchievementContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/runner/workspace/src/context/AchievementContext.tsx\",\n        lineNumber: 266,\n        columnNumber: 5\n    }, undefined);\n};\n_s(AchievementProvider, \"4HTaew67G6BIiYey+y4yfHKliaQ=\");\n_c = AchievementProvider;\nvar _c;\n$RefreshReg$(_c, \"AchievementProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9jb250ZXh0L0FjaGlldmVtZW50Q29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3RjtBQU0vRDtBQU1tRDtBQUU1RSx3QkFBd0I7QUFDeEIsTUFBTVksc0JBQThDO0lBQ2xEQyxjQUFjLEVBQUU7SUFDaEJDLFVBQVU7SUFDVkMsT0FBTztJQUNQQyxnQkFBZ0I7SUFDaEJDLGFBQWEsS0FBTztJQUNwQkMsWUFBWSxLQUFPO0lBQ25CQyxjQUFjLEtBQU87QUFDdkI7QUFFQSxpQ0FBaUM7QUFDMUIsTUFBTUMsbUNBQXFCbkIsb0RBQWFBLENBQXlCVyxxQkFBcUI7QUFFdEYsTUFBTVMsc0JBQStEO1FBQUMsRUFBRUMsUUFBUSxFQUFFOztJQUN2RixzQ0FBc0M7SUFDdEMsTUFBTSxDQUFDVCxjQUFjVSxnQkFBZ0IsR0FBR3JCLCtDQUFRQSxDQUFnQixFQUFFO0lBQ2xFLE1BQU0sQ0FBQ1ksVUFBVVUsWUFBWSxHQUFHdEIsK0NBQVFBLENBQVM7SUFDakQsTUFBTSxDQUFDYSxPQUFPVSxTQUFTLEdBQUd2QiwrQ0FBUUEsQ0FBUztJQUMzQyxNQUFNLENBQUN3QixRQUFRQyxVQUFVLEdBQUd6QiwrQ0FBUUEsQ0FBUztJQUM3QyxNQUFNLENBQUNjLGdCQUFnQlksa0JBQWtCLEdBQUcxQiwrQ0FBUUEsQ0FBcUI7SUFDekUsTUFBTSxDQUFDMkIsY0FBY0MsZ0JBQWdCLEdBQUc1QiwrQ0FBUUEsQ0FBc0I7UUFDcEU2QixRQUFRLENBQUM7UUFDVEMsT0FBTyxFQUFFO1FBQ1RDLFNBQVMsQ0FBQztJQUNaO0lBRUEsNkRBQTZEO0lBQzdEOUIsZ0RBQVNBO3lDQUFDO1lBQ1Isd0JBQXdCO1lBQ3hCLElBQUkrQixLQUFLQyxhQUFhQyxPQUFPLENBQUM3Qix3REFBWUEsQ0FBQzhCLE9BQU87WUFDbEQsSUFBSSxDQUFDSCxJQUFJO2dCQUNQQSxLQUFLdkIsc0RBQVVBO2dCQUNmd0IsYUFBYUcsT0FBTyxDQUFDL0Isd0RB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QUk7NEJBQUVyRCxPQUFPO21DQUFJcUQsS0FBS3JELEtBQUs7Z0NBQUVzRDs2QkFBTzt3QkFBQztvQkFDbkQ7b0JBQ0EsT0FBT0Q7Z0JBQ1Q7O1FBQ0Y7c0RBQUcsRUFBRTtJQUVMLHVCQUF1QjtJQUN2QixNQUFNbEUsZUFBZWYsa0RBQVdBO3lEQUFDLENBQUMyRTtZQUNoQ2pEO2lFQUFnQnVELENBQUFBO29CQUNkLE1BQU1wRCxVQUFVO3dCQUFFLEdBQUdvRCxLQUFLcEQsT0FBTztvQkFBQztvQkFDbENBLE9BQU8sQ0FBQzhDLE9BQU8sR0FBRyxDQUFDOUMsT0FBTyxDQUFDOEMsT0FBTyxJQUFJLEtBQUs7b0JBQzNDLE9BQU87d0JBQUUsR0FBR00sSUFBSTt3QkFBRXBEO29CQUFRO2dCQUM1Qjs7UUFDRjt3REFBRyxFQUFFO0lBRUwsZ0RBQWdEO0lBQ2hEOUIsZ0RBQVNBO3lDQUFDO1lBQ1I2RDtRQUNGO3dDQUFHO1FBQUNuQztRQUFjbUM7S0FBa0I7SUFFcEMsZ0JBQWdCO0lBQ2hCLE1BQU13QixlQUFlbkYsOENBQU9BO3FEQUFDLElBQU87Z0JBQ2xDUTtnQkFDQUM7Z0JBQ0FDO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBQztZQUNGO29EQUFJO1FBQUNOO1FBQWNDO1FBQVVDO1FBQU9DO1FBQWdCQztRQUFhQztRQUFZQztLQUFhO0lBRTFGLHFCQUNFLDhEQUFDQyxtQkFBbUJxRSxRQUFRO1FBQUNDLE9BQU9GO2tCQUNqQ2xFOzs7Ozs7QUFHUCxFQUFFO0dBalBXRDtLQUFBQSIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvY29udGV4dC9BY2hpZXZlbWVudENvbnRleHQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFxuICBERUZBVUxUX0FDSElFVkVNRU5UUywgXG4gIFNUT1JBR0VfS0VZUywgXG4gIEFQSV9FTkRQT0lOVFMsIFxuICBUT1RBTF9BQ0hJRVZFTUVOVF9QT0lOVFMgXG59IGZyb20gJ0AvbGliL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBcbiAgQWNoaWV2ZW1lbnQsIFxuICBBY2hpZXZlbWVudENvbnRleHRUeXBlLCBcbiAgQWNoaWV2ZW1lbnRQcm9ncmVzcyBcbn0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVQcm9ncmVzcywgZGV0ZXJtaW5lTGV2ZWwsIGdlbmVyYXRlSWQgfSBmcm9tICdAL2xpYi91dGlscyc7XG5cbi8vIERlZmF1bHQgY29udGV4dCB2YWx1ZVxuY29uc3QgZGVmYXVsdENvbnRleHRWYWx1ZTogQWNoaWV2ZW1lbnRDb250ZXh0VHlwZSA9IHtcbiAgYWNoaWV2ZW1lbnRzOiBbXSxcbiAgcHJvZ3Jlc3M6IDAsXG4gIGxldmVsOiAnRXhwbG9yZXInLFxuICBuZXdBY2hpZXZlbWVudDogbnVsbCxcbiAgcmVjb3JkVmlzaXQ6ICgpID0+IHt9LFxuICByZWNvcmRSZWFkOiAoKSA9PiB7fSxcbiAgcmVjb3JkQWN0aW9uOiAoKSA9PiB7fSxcbn07XG5cbi8vIENyZWF0ZSB0aGUgYWNoaWV2ZW1lbnQgY29udGV4dFxuZXhwb3J0IGNvbnN0IEFjaGlldmVtZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QWNoaWV2ZW1lbnRDb250ZXh0VHlwZT4oZGVmYXVsdENvbnRleHRWYWx1ZSk7XG5cbmV4cG9ydCBjb25zdCBBY2hpZXZlbWVudFByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIC8vIFN0YXRlIGZvciBhY2hpZXZlbWVudHMgYW5kIHByb2dyZXNzXG4gIGNvbnN0IFthY2hpZXZlbWVudHMsIHNldEFjaGlldmVtZW50c10gPSB1c2VTdGF0ZTxBY2hpZXZlbWVudFtdPihbXSk7XG4gIGNvbnN0IFtwcm9ncmVzcywgc2V0UHJvZ3Jlc3NdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2xldmVsLCBzZXRMZXZlbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdFeHBsb3JlcicpO1xuICBjb25zdCBbdXNlcklkLCBzZXRVc2VySWRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdBY2hpZXZlbWVudCwgc2V0TmV3QWNoaWV2ZW1lbnRdID0gdXNlU3RhdGU8QWNoaWV2ZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Byb2dyZXNzRGF0YSwgc2V0UHJvZ3Jlc3NEYXRhXSA9IHVzZVN0YXRlPEFjaGlldmVtZW50UHJvZ3Jlc3M+KHtcbiAgICB2aXNpdHM6IHt9LFxuICAgIHJlYWRzOiBbXSxcbiAgICBhY3Rpb25zOiB7fSxcbiAgfSk7XG4gIFxuICAvLyBJbml0aWFsaXplIHVzZXIgSUQgYW5kIGxvYWQgYWNoaWV2ZW1lbnRzIGZyb20gbG9jYWxTdG9yYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gR2V0IG9yIGNyZWF0ZSB1c2VyIElEXG4gICAgbGV0IGlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLlVTRVJfSUQpO1xuICAgIGlmICghaWQpIHtcbiAgICAgIGlkID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLlVTRVJfSUQsIGlkKTtcbiAgICB9XG4gICAgc2V0VXNlcklkKGlkKTtcbiAgICBcbiAgICAvLyBMb2FkIGFjaGlldmVtZW50IGRhdGEgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBzdG9yZWRBY2hpZXZlbWVudHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMuQUNISUVWRU1FTlRTKTtcbiAgICBpZiAoc3RvcmVkQWNoaWV2ZW1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWRBY2hpZXZlbWVudHMgPSBKU09OLnBhcnNlKHN0b3JlZEFjaGlldmVtZW50cyk7XG4gICAgICAgIHNldEFjaGlldmVtZW50cyhwYXJzZWRBY2hpZXZlbWVudHMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzdG9yZWQgYWNoaWV2ZW1lbnRzOicsIGVycm9yKTtcbiAgICAgICAgc2V0QWNoaWV2ZW1lbnRzKERFRkFVTFRfQUNISUVWRU1FTlRTKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0QWNoaWV2ZW1lbnRzKERFRkFVTFRfQUNISUVWRU1FTlRTKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTG9hZCBwcm9ncmVzcyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgIGNvbnN0IHN0b3JlZFByb2dyZXNzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLlBST0dSRVNTKTtcbiAgICBpZiAoc3RvcmVkUHJvZ3Jlc3MpIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzVmFsdWUgPSBwYXJzZUZsb2F0KHN0b3JlZFByb2dyZXNzKTtcbiAgICAgIHNldFByb2dyZXNzKHByb2dyZXNzVmFsdWUpO1xuICAgICAgc2V0TGV2ZWwoZGV0ZXJtaW5lTGV2ZWwocHJvZ3Jlc3NWYWx1ZSkpO1xuICAgIH1cbiAgICBcbiAgICAvLyBMb2FkIHByb2dyZXNzIGRhdGFcbiAgICBjb25zdCBzdG9yZWRQcm9ncmVzc0RhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb2xla3NpYWtfcHJvZ3Jlc3NfZGF0YScpO1xuICAgIGlmIChzdG9yZWRQcm9ncmVzc0RhdGEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldFByb2dyZXNzRGF0YShKU09OLnBhcnNlKHN0b3JlZFByb2dyZXNzRGF0YSkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBwcm9ncmVzcyBkYXRhOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcbiAgXG4gIC8vIFNhdmUgYWNoaWV2ZW1lbnRzIHRvIGxvY2FsU3RvcmFnZSB3aGVuIHRoZXkgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjaGlldmVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuQUNISUVWRU1FTlRTLCBKU09OLnN0cmluZ2lmeShhY2hpZXZlbWVudHMpKTtcbiAgICB9XG4gIH0sIFthY2hpZXZlbWVudHNdKTtcbiAgXG4gIC8vIFNhdmUgcHJvZ3Jlc3MgZGF0YSB0byBsb2NhbFN0b3JhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb2xla3NpYWtfcHJvZ3Jlc3NfZGF0YScsIEpTT04uc3RyaW5naWZ5KHByb2dyZXNzRGF0YSkpO1xuICB9LCBbcHJvZ3Jlc3NEYXRhXSk7XG4gIFxuICAvLyBTYXZlIHByb2dyZXNzIGFuZCBsZXZlbCB0byBsb2NhbFN0b3JhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWVMuUFJPR1JFU1MsIHByb2dyZXNzLnRvU3RyaW5nKCkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5MRVZFTCwgbGV2ZWwpO1xuICB9LCBbcHJvZ3Jlc3MsIGxldmVsXSk7XG4gIFxuICAvLyBTeW5jIGFjaGlldmVtZW50cyB3aXRoIHRoZSBzZXJ2ZXJcbiAgY29uc3Qgc3luY1dpdGhTZXJ2ZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VySWQpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChBUElfRU5EUE9JTlRTLkFDSElFVkVNRU5UUywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgYWNoaWV2ZW1lbnRzLFxuICAgICAgICAgIHByb2dyZXNzLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBsZXZlbCBpZiBzZXJ2ZXIgaGFzIGEgZGlmZmVyZW50IHZhbHVlXG4gICAgICAgIGlmIChkYXRhLmxldmVsICE9PSBsZXZlbCkge1xuICAgICAgICAgIHNldExldmVsKGRhdGEubGV2ZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgYWNoaWV2ZW1lbnRzOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFt1c2VySWQsIGFjaGlldmVtZW50cywgcHJvZ3Jlc3MsIGxldmVsXSk7XG4gIFxuICAvLyBTeW5jIHdpdGggc2VydmVyIHdoZW4gYWNoaWV2ZW1lbnRzIG9yIHByb2dyZXNzIGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhY2hpZXZlbWVudHMubGVuZ3RoID4gMCAmJiB1c2VySWQpIHtcbiAgICAgIHN5bmNXaXRoU2VydmVyKCk7XG4gICAgfVxuICB9LCBbYWNoaWV2ZW1lbnRzLCBwcm9ncmVzcywgdXNlcklkLCBzeW5jV2l0aFNlcnZlcl0pO1xuICBcbiAgLy8gQ2hlY2sgYWNoaWV2ZW1lbnRzIGFuZCB1cGRhdGUgcHJvZ3Jlc3NcbiAgY29uc3QgY2hlY2tBY2hpZXZlbWVudHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgbGV0IHVwZGF0ZWQgPSBmYWxzZTtcbiAgICBsZXQgdG90YWxFYXJuZWRQb2ludHMgPSAwO1xuICAgIFxuICAgIGNvbnN0IHVwZGF0ZWRBY2hpZXZlbWVudHMgPSBhY2hpZXZlbWVudHMubWFwKGFjaGlldmVtZW50ID0+IHtcbiAgICAgIC8vIFNraXAgYWxyZWFkeSBjb21wbGV0ZWQgYWNoaWV2ZW1lbnRzXG4gICAgICBpZiAoYWNoaWV2ZW1lbnQuY29tcGxldGVkKSB7XG4gICAgICAgIHRvdGFsRWFybmVkUG9pbnRzICs9IGFjaGlldmVtZW50LnBvaW50cztcbiAgICAgICAgcmV0dXJuIGFjaGlldmVtZW50O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBjcml0ZXJpYSBhcmUgbWV0XG4gICAgICBsZXQgY3JpdGVyaWFGdWxmaWxsZWQgPSB0cnVlO1xuICAgICAgXG4gICAgICAvLyBDaGVjayB2aXNpdCBjcml0ZXJpYVxuICAgICAgaWYgKGFjaGlldmVtZW50LmNyaXRlcmlhLnZpc2l0cykge1xuICAgICAgICBmb3IgKGNvbnN0IFtwYWdlLCBjb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoYWNoaWV2ZW1lbnQuY3JpdGVyaWEudmlzaXRzKSkge1xuICAgICAgICAgIGNvbnN0IHVzZXJWaXNpdHMgPSBwcm9ncmVzc0RhdGEudmlzaXRzW3BhZ2VdIHx8IDA7XG4gICAgICAgICAgaWYgKHVzZXJWaXNpdHMgPCBjb3VudCkge1xuICAgICAgICAgICAgY3JpdGVyaWFGdWxmaWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayByZWFkIGNyaXRlcmlhXG4gICAgICBpZiAoY3JpdGVyaWFGdWxmaWxsZWQgJiYgYWNoaWV2ZW1lbnQuY3JpdGVyaWEucmVhZHMpIHtcbiAgICAgICAgaWYgKHByb2dyZXNzRGF0YS5yZWFkcy5sZW5ndGggPCBhY2hpZXZlbWVudC5jcml0ZXJpYS5yZWFkcykge1xuICAgICAgICAgIGNyaXRlcmlhRnVsZmlsbGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgYWN0aW9uIGNyaXRlcmlhXG4gICAgICBpZiAoY3JpdGVyaWFGdWxmaWxsZWQgJiYgYWNoaWV2ZW1lbnQuY3JpdGVyaWEuYWN0aW9ucykge1xuICAgICAgICBmb3IgKGNvbnN0IFthY3Rpb24sIGNvdW50XSBvZiBPYmplY3QuZW50cmllcyhhY2hpZXZlbWVudC5jcml0ZXJpYS5hY3Rpb25zKSkge1xuICAgICAgICAgIGNvbnN0IHVzZXJBY3Rpb25zID0gcHJvZ3Jlc3NEYXRhLmFjdGlvbnNbYWN0aW9uXSB8fCAwO1xuICAgICAgICAgIGlmICh1c2VyQWN0aW9ucyA8IGNvdW50KSB7XG4gICAgICAgICAgICBjcml0ZXJpYUZ1bGZpbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBhY2hpZXZlbWVudCBpZiBjcml0ZXJpYSBhcmUgZnVsZmlsbGVkXG4gICAgICBpZiAoY3JpdGVyaWFGdWxmaWxsZWQgJiYgIWFjaGlldmVtZW50LmNvbXBsZXRlZCkge1xuICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNldCBuZXdseSBjb21wbGV0ZWQgYWNoaWV2ZW1lbnQgZm9yIG5vdGlmaWNhdGlvblxuICAgICAgICBzZXROZXdBY2hpZXZlbWVudCh7IC4uLmFjaGlldmVtZW50IH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYXIgbm90aWZpY2F0aW9uIGFmdGVyIDUgc2Vjb25kc1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzZXROZXdBY2hpZXZlbWVudChudWxsKTtcbiAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgIFxuICAgICAgICB0b3RhbEVhcm5lZFBvaW50cyArPSBhY2hpZXZlbWVudC5wb2ludHM7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmFjaGlldmVtZW50LFxuICAgICAgICAgIGNvbXBsZXRlZDogdHJ1ZSxcbiAgICAgICAgICBjb21wbGV0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGFjaGlldmVtZW50O1xuICAgIH0pO1xuICAgIFxuICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICBzZXRBY2hpZXZlbWVudHModXBkYXRlZEFjaGlldmVtZW50cyk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICAgIGNvbnN0IG5ld1Byb2dyZXNzID0gY2FsY3VsYXRlUHJvZ3Jlc3ModG90YWxFYXJuZWRQb2ludHMpO1xuICAgIGlmIChuZXdQcm9ncmVzcyAhPT0gcHJvZ3Jlc3MpIHtcbiAgICAgIHNldFByb2dyZXNzKG5ld1Byb2dyZXNzKTtcbiAgICAgIHNldExldmVsKGRldGVybWluZUxldmVsKG5ld1Byb2dyZXNzKSk7XG4gICAgfVxuICB9LCBbYWNoaWV2ZW1lbnRzLCBwcm9ncmVzc0RhdGEsIHByb2dyZXNzXSk7XG4gIFxuICAvLyBSZWNvcmQgYSBwYWdlIHZpc2l0XG4gIGNvbnN0IHJlY29yZFZpc2l0ID0gdXNlQ2FsbGJhY2soKHBhZ2U6IHN0cmluZykgPT4ge1xuICAgIHNldFByb2dyZXNzRGF0YShwcmV2ID0+IHtcbiAgICAgIGNvbnN0IHZpc2l0cyA9IHsgLi4ucHJldi52aXNpdHMgfTtcbiAgICAgIHZpc2l0c1twYWdlXSA9ICh2aXNpdHNbcGFnZV0gfHwgMCkgKyAxO1xuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgdmlzaXRzIH07XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgXG4gIC8vIFJlY29yZCBhIGJsb2cgcG9zdCByZWFkXG4gIGNvbnN0IHJlY29yZFJlYWQgPSB1c2VDYWxsYmFjaygocG9zdElkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRQcm9ncmVzc0RhdGEocHJldiA9PiB7XG4gICAgICAvLyBPbmx5IGFkZCB0aGUgcG9zdCBJRCBpZiBpdCdzIG5vdCBhbHJlYWR5IGluIHRoZSBhcnJheVxuICAgICAgaWYgKCFwcmV2LnJlYWRzLmluY2x1ZGVzKHBvc3RJZCkpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgcmVhZHM6IFsuLi5wcmV2LnJlYWRzLCBwb3N0SWRdIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9KTtcbiAgfSwgW10pO1xuICBcbiAgLy8gUmVjb3JkIGEgdXNlciBhY3Rpb25cbiAgY29uc3QgcmVjb3JkQWN0aW9uID0gdXNlQ2FsbGJhY2soKGFjdGlvbjogc3RyaW5nKSA9PiB7XG4gICAgc2V0UHJvZ3Jlc3NEYXRhKHByZXYgPT4ge1xuICAgICAgY29uc3QgYWN0aW9ucyA9IHsgLi4ucHJldi5hY3Rpb25zIH07XG4gICAgICBhY3Rpb25zW2FjdGlvbl0gPSAoYWN0aW9uc1thY3Rpb25dIHx8IDApICsgMTtcbiAgICAgIHJldHVybiB7IC4uLnByZXYsIGFjdGlvbnMgfTtcbiAgICB9KTtcbiAgfSwgW10pO1xuICBcbiAgLy8gQ2hlY2sgYWNoaWV2ZW1lbnRzIHdoZW4gcHJvZ3Jlc3MgZGF0YSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2hlY2tBY2hpZXZlbWVudHMoKTtcbiAgfSwgW3Byb2dyZXNzRGF0YSwgY2hlY2tBY2hpZXZlbWVudHNdKTtcbiAgXG4gIC8vIENvbnRleHQgdmFsdWVcbiAgY29uc3QgY29udGV4dFZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIGFjaGlldmVtZW50cyxcbiAgICBwcm9ncmVzcyxcbiAgICBsZXZlbCxcbiAgICBuZXdBY2hpZXZlbWVudCxcbiAgICByZWNvcmRWaXNpdCxcbiAgICByZWNvcmRSZWFkLFxuICAgIHJlY29yZEFjdGlvbixcbiAgfSksIFthY2hpZXZlbWVudHMsIHByb2dyZXNzLCBsZXZlbCwgbmV3QWNoaWV2ZW1lbnQsIHJlY29yZFZpc2l0LCByZWNvcmRSZWFkLCByZWNvcmRBY3Rpb25dKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPEFjaGlldmVtZW50Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0FjaGlldmVtZW50Q29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJERUZBVUxUX0FDSElFVkVNRU5UUyIsIlNUT1JBR0VfS0VZUyIsIkFQSV9FTkRQT0lOVFMiLCJjYWxjdWxhdGVQcm9ncmVzcyIsImRldGVybWluZUxldmVsIiwiZ2VuZXJhdGVJZCIsImRlZmF1bHRDb250ZXh0VmFsdWUiLCJhY2hpZXZlbWVudHMiLCJwcm9ncmVzcyIsImxldmVsIiwibmV3QWNoaWV2ZW1lbnQiLCJyZWNvcmRWaXNpdCIsInJlY29yZFJlYWQiLCJyZWNvcmRBY3Rpb24iLCJBY2hpZXZlbWVudENvbnRleHQiLCJBY2hpZXZlbWVudFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJzZXRBY2hpZXZlbWVudHMiLCJzZXRQcm9ncmVzcyIsInNldExldmVsIiwidXNlcklkIiwic2V0VXNlcklkIiwic2V0TmV3QWNoaWV2ZW1lbnQiLCJwcm9ncmVzc0RhdGEiLCJzZXRQcm9ncmVzc0RhdGEiLCJ2aXNpdHMiLCJyZWFkcyIsImFjdGlvbnMiLCJpZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJVU0VSX0lEIiwic2V0SXRlbSIsInN0b3JlZEFjaGlldmVtZW50cyIsIkFDSElFVkVNRU5UUyIsInBhcnNlZEFjaGlldmVtZW50cyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsInN0b3JlZFByb2dyZXNzIiwiUFJPR1JFU1MiLCJwcm9ncmVzc1ZhbHVlIiwicGFyc2VGbG9hdCIsInN0b3JlZFByb2dyZXNzRGF0YSIsImxlbmd0aCIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwiTEVWRUwiLCJzeW5jV2l0aFNlcnZlciIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsImNoZWNrQWNoaWV2ZW1lbnRzIiwidXBkYXRlZCIsInRvdGFsRWFybmVkUG9pbnRzIiwidXBkYXRlZEFjaGlldmVtZW50cyIsIm1hcCIsImFjaGlldmVtZW50IiwiY29tcGxldGVkIiwicG9pbnRzIiwiY3JpdGVyaWFGdWxmaWxsZWQiLCJjcml0ZXJpYSIsInBhZ2UiLCJjb3VudCIsIk9iamVjdCIsImVudHJpZXMiLCJ1c2VyVmlzaXRzIiwiYWN0aW9uIiwidXNlckFjdGlvbnMiLCJzZXRUaW1lb3V0IiwiY29tcGxldGVkQXQiLCJEYXRlIiwibmV3UHJvZ3Jlc3MiLCJwcmV2IiwicG9zdElkIiwiaW5jbHVkZXMiLCJjb250ZXh0VmFsdWUiLCJQcm92aWRlciIsInZhbHVlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/context/AchievementContext.tsx\n"));

/***/ })

});